/* VERSION 2.0 - Command Center */

:root {
    --aicp-primary-color: #007cba;
    --aicp-primary-hover: #0071a1;
    --aicp-secondary-bg: #f6f7f7;
    --aicp-border-color: #c3c4c7;
    --aicp-text-color: #1d2327;
    --aicp-text-light: #50575e;
    --aicp-panel-bg: #ffffff;
    --aicp-body-bg: #f0f0f1;
}

/* =================================================== */
/* 1. CORE LAYOUT & STRUCTURE                          */
/* =================================================== */
body {
    background-color: var(--aicp-body-bg);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
    margin: 40px; /* Give it space on the page */
}

#aicp-container {
    background: var(--aicp-panel-bg);
    border: 1px solid var(--aicp-border-color);
    box-shadow: 0 5px 25px rgba(0,0,0,0.1);
    border-radius: 8px;
    overflow: hidden;
    max-width: 800px;
    margin: auto;
    display: flex;
    flex-direction: column;
    min-height: 70vh;
}

.aicp-main-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 20px;
    background: var(--aicp-secondary-bg);
    border-bottom: 1px solid var(--aicp-border-color);
}
.aicp-header-title {
    font-size: 18px;
    font-weight: 600;
    color: var(--aicp-text-color);
}
.aicp-task-selector-wrapper label {
    font-size: 13px;
    margin-right: 8px;
    color: var(--aicp-text-light);
}

#aicp-module-container {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.aicp-main-footer {
    padding: 12px 20px;
    background: var(--aicp-secondary-bg);
    border-top: 1px solid var(--aicp-border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* =================================================== */
/* 2. SHARED FORM ELEMENTS & COMPONENTS                */
/* =================================================== */
.aicp-module-padding {
    padding: 20px;
}

.aicp-form-row { margin-bottom: 16px; }
.aicp-form-row:last-child { margin-bottom: 0; }
.aicp-form-row-group { display: flex; gap: 20px; }
.aicp-form-row-group .aicp-form-row { flex: 1; }

label { font-weight: 600; font-size: 14px; color: var(--aicp-text-color); }
select, .aicp-input, .aicp-textarea, .aicp-input-number {
    width: 100%;
    padding: 8px;
    margin-top: 4px;
    border: 1px solid var(--aicp-border-color);
    border-radius: 4px;
    box-sizing: border-box;
    font-size: 14px;
}
.aicp-textarea { min-height: 80px; resize: vertical; }

.aicp-input-with-button { display: flex; gap: 8px; }
.aicp-input-with-button .aicp-textarea, .aicp-input-with-button .aicp-input { flex-grow: 1; }
.aicp-input-with-button .aicp-button-secondary { align-self: flex-start; }

.aicp-button-primary, .aicp-button-secondary {
    padding: 8px 16px; font-size: 14px; cursor: pointer; border-radius: 4px; border-width: 1px; border-style: solid;
}
.aicp-button-primary { background: var(--aicp-primary-color); border-color: var(--aicp-primary-color); color: #fff; }
.aicp-button-primary:hover { background: var(--aicp-primary-hover); }

.aicp-button-secondary { background: var(--aicp-secondary-bg); border-color: var(--aicp-border-color); color: var(--aicp-text-light); }
.aicp-button-secondary:hover { border-color: #8c8f94; color: var(--aicp-text-color); }

.aicp-icon-button { background: none; border: none; font-size: 20px; cursor: pointer; padding: 4px; color: var(--aicp-text-light); }

.aicp-collapsible-section {
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: all 0.3s ease-in-out;
}
.aicp-collapsible-section.is-expanded {
    max-height: 500px; /* Ample height */
    opacity: 1;
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px dashed var(--aicp-border-color);
}
.aicp-section-title { margin: 0 0 12px; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; }

/* =================================================== */
/* 3. OUTPUT AREAS                                     */
/* =================================================== */
.aicp-output-area {
    flex-grow: 1;
    background-color: var(--aicp-secondary-bg);
    border-top: 1px solid var(--aicp-border-color);
    padding: 20px;
    display: flex;
    flex-direction: column;
}
.aicp-output-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
.aicp-output-header span { font-weight: 600; }
.aicp-output-content {
    background: #fff;
    border: 1px solid var(--aicp-border-color);
    border-radius: 4px;
    padding: 16px;
    flex-grow: 1;
    overflow-y: auto;
    font-family: 'Georgia', serif;
    line-height: 1.6;
}
.aicp-char-counter { font-size: 12px; color: var(--aicp-text-light); text-align: right; margin-top: 4px; }
.aicp-code-output { white-space: pre-wrap; background: #2d2d2d; color: #f8f8f2; padding: 16px; border-radius: 4px; font-family: monospace; }
.aicp-image-gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }
.aicp-image-gallery .aicp-placeholder { display: flex; align-items: center; justify-content: center; color: var(--aicp-text-light); }

/* =================================================== */
/* 4. MODULE-SPECIFIC STYLES                           */
/* =================================================== */
/* Content Fleet Manager */
.aicp-post-list { overflow-y: auto; flex-grow: 1; }
.aicp-post-item {
    padding: 16px;
    border-bottom: 1px solid var(--aicp-border-color);
}
.aicp-post-item:last-child { border-bottom: none; }
.aicp-post-title { font-weight: 600; margin-bottom: 4px; }
.aicp-post-snippet { font-size: 13px; color: var(--aicp-text-light); margin-bottom: 12px; }
.aicp-post-actions { display: flex; gap: 8px; }
.aicp-post-actions .aicp-button-secondary { padding: 4px 10px; font-size: 12px; }

/* =================================================== */
/* 5. SETTINGS PANEL ("Mad Scientist Mode")            */
/* =================================================== */
#aicp-settings-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 320px;
    height: 100%;
    background: var(--aicp-panel-bg);
    box-shadow: -10px 0 30px rgba(0,0,0,0.15);
    z-index: 10000;
    transform: translateX(100%);
    transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    display: flex;
    flex-direction: column;
}
#aicp-settings-panel.is-visible {
    transform: translateX(0);
}
#aicp-settings-panel .aicp-panel-body { padding: 20px; }
.aicp-warning-text { font-size: 12px; color: #d63638; display: block; margin-bottom: 12px; }

/* Custom Switch Toggle */
.aicp-toggle-row { display: flex; justify-content: space-between; align-items: center; }
.aicp-switch { position: relative; display: inline-block; width: 44px; height: 24px; }
.aicp-switch input { opacity: 0; width: 0; height: 0; }
/* ... (additional switch styles would go here, simplified for brevity) */

/* =================================================== */
/* 6. DEV STATUS BAR                                   */
/* =================================================== */
#aicp-dev-status-bar {
    position: fixed; bottom: 0; left: 0; background-color: #1d2327; color: #a7aaad; padding: 4px 10px;
    font-size: 12px; font-family: monospace; z-index: 100000; border-top-right-radius: 4px;
}
